# ==========================================

# Project: DroneCraft ~ dronecraft.au

# Author: Colin Dixon BSc, DipEd, Cert IV TAE

# Contact: crdixon@gmail.com

# Timestamp: 27/10/2025 03:00 PM AEDT (Mallacoota)

# Version: 25.10.003

# File Name: .htaccess

# Description: Root configuration for DroneCraft.au (OzeGlass V1-10-02)

# ==========================================

# --- Directory Index ---

DirectoryIndex index.html
Options +Indexes +FollowSymLinks
AllowOverride All

# --- Access Control ---

<IfModule mod_authz_core.c>
  Require all granted
</IfModule>

# --- MIME & Static File Handling ---

<FilesMatch "\.(html|css|js|jpg|jpeg|png|gif|ico|webp|svg|xml|txt|json|mp4|webm|ogg)$">
Require all granted
</FilesMatch>

# --- Compression (LiteSpeed / Apache) ---

<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css application/javascript application/json image/svg+xml
</IfModule>

# --- Browser Caching ---

<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType text/html "access plus 1 hour"
  ExpiresByType text/css "access plus 1 week"
  ExpiresByType application/javascript "access plus 1 week"
  ExpiresByType image/webp "access plus 1 month"
  ExpiresByType image/jpeg "access plus 1 month"
  ExpiresByType image/png "access plus 1 month"
  ExpiresByType image/svg+xml "access plus 1 month"
</IfModule>

# --- Security Headers ---

<IfModule mod_headers.c>
  Header set X-Content-Type-Options "nosniff"
  Header set X-Frame-Options "SAMEORIGIN"
  Header set Referrer-Policy "strict-origin-when-cross-origin"
  Header set Permissions-Policy "geolocation=(), microphone=(), camera=()"
</IfModule>

# --- Redirect to HTTPS (if not using Hostingerâ€™s global redirect) ---

RewriteEngine On
RewriteCond %{HTTPS} off
RewriteRule ^(.\*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# --- Canonical Redirect (remove www) ---

RewriteCond %{HTTP_HOST} ^www\.dronecraft\.au [NC]
RewriteRule ^(.\*)$ https://dronecraft.au/$1 [L,R=301]
